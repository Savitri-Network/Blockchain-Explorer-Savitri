{
  "meta": {
    "project": "Savitri Blockchain Explorer",
    "date": "2025-11-14",
    "prepared_by": "Software Development Manager"
  },
  "product_overview": "Savitri Blockchain Explorer is a Next.js based web application designed to provide an intuitive, feature-rich interface for exploring, analyzing, and interacting with the Savitri blockchain testnet. It offers blockchain data exploration, real-time network statistics, smart contract interaction capabilities, and wallet integration, serving blockchain developers, community members, and stakeholders.",
  "core_goals": [
    "Provide comprehensive visibility into Savitri blockchain testnet data including blocks, transactions, accounts, and smart contracts.",
    "Enable unified, fast, and scalable search across blockchain data to quickly find relevant information.",
    "Offer real-time network statistics and data visualizations for monitoring network health and activity trends.",
    "Support detailed debugging and analysis tools for developers including raw JSON data, transaction types, and smart contract code viewing and interaction.",
    "Integrate wallet extension to support secure connection and future wallet-related features.",
    "Ensure robust input validation, consistent error handling, and secure communication throughout the application."
  ],
  "key_features": [
    "Blockchain Data Exploration across multiple data types: blocks, transactions, accounts, and smart contracts, with paginated detailed views.",
    "Interactive Dashboard with charts and statistics showing real-time network metrics such as TPS, active users, block and transaction volumes.",
    "Global unified search functionality supporting queries for blocks, transactions, accounts, and contracts with client-side filtering and future plans for backend search endpoints.",
    "Smart Contract Explorer enabling viewing of contract code, events, and interaction via read/write operations.",
    "Wallet Integration supporting interaction with the Ikarus wallet browser extension including connection state management, message handling, and error logging.",
    "Robust API Proxy Layer implemented using Next.js API routes that validates inputs, fetches data from external Savitri blockchain API, and returns structured JSON responses.",
    "Pagination and filtering components to navigate large datasets with dynamic loading and client-side filtering applied currently.",
    "Comprehensive error handling and structured logging system for both frontend and wallet interactions.",
    "Performance and security optimizations including optimized images, security headers, input validation, console log removal in production, and compression enabled."
  ],
  "user_flow_summary": [
    "User lands on homepage and views the Stats Dashboard with global blockchain metrics and unified search bar.",
    "User inputs query in search bar; system performs client-side filtering to show relevant blocks, transactions, accounts, or contracts with links to detail pages.",
    "User navigates to blocks or transactions list pages to view paginated lists with filtering and sorting options.",
    "User clicks on an item (block, transaction, account, contract) to view detailed page with full metadata, transaction/event lists, QR code sharing options, and related links.",
    "Developers and advanced users interact with smart contract read/write interfaces to test and analyze contracts.",
    "Users connect their Ikarus wallet extension for future interactions including signing transactions and viewing wallet data.",
    "API routes handle data fetching with input validation, error handling, and proxying to external API to serve dynamic data in real-time.",
    "User navigates through dashboard charts to analyze network trends and accesses placeholder pages like Developers, Knowledge, or Nodes for future content."
  ],
  "validation_criteria": [
    "All API routes strictly validate input parameters (pagination, IDs) and return appropriate HTTP status codes and error messages for invalid inputs.",
    "Frontend search and listings perform correctly with up-to-date blockchain data and respond to filters and pagination controls.",
    "Wallet connection states and messaging are handled securely with origin validation and proper error logging.",
    "UI components gracefully handle loading states, errors, and display consistent date/time formats using relative time strings.",
    "Performance benchmarks are met: page load times under 2 seconds, API response times under 500ms, and charts render under 1 second.",
    "Security headers are enforced to protect against common vulnerabilities including XSS, clickjacking, and MIME sniffing.",
    "Structured logging system captures relevant error and event data from wallet and application components.",
    "Placeholder pages clearly show 'Coming soon' while supporting easy future content additions without UI breakage.",
    "Pagination and filtering do not introduce data inconsistencies and handle edge cases such as empty results or large datasets efficiently."
  ],
  "code_summary": {
    "project_name": "Savitri Blockchain Explorer",
    "project_type": "frontend",
    "tech_stack": {
      "framework": "Next.js 14.1.3",
      "language": "TypeScript",
      "ui_library": "React 18",
      "styling": "SCSS (Sass)",
      "charting": "Chart.js 4.4.2, react-chartjs-2 5.2.0",
      "http_client": "axios 1.6.7",
      "icons": "react-icons 5.0.1",
      "qr_code": "qrcode.react 3.1.0",
      "build_tool": "Next.js built-in",
      "package_manager": "npm"
    },
    "architecture": {
      "pattern": "App Router (Next.js 14)",
      "state_management": "React Context API",
      "routing": "Next.js App Router with dynamic routes",
      "api_layer": "Next.js API Routes (server-side)"
    },
    "main_features": [
      {
        "name": "Blockchain Data Exploration",
        "description": "View and explore blockchain data including blocks, transactions, accounts, and smart contracts",
        "pages": [
          "/",
          "/blocks",
          "/blocks/[id]",
          "/transactions",
          "/transactions/[id]",
          "/accounts",
          "/accounts/[id]",
          "/contracts",
          "/contracts/[id]"
        ]
      },
      {
        "name": "Dashboard & Statistics",
        "description": "Interactive dashboard with statistics, charts, and real-time blockchain metrics",
        "components": [
          "StatsDashboard",
          "CardDashboard",
          "BlockBarChart",
          "TrabsactionBarChart",
          "ActiveUserChar"
        ]
      },
      {
        "name": "Search Functionality",
        "description": "Global search across blocks, transactions, accounts, and smart contracts",
        "location": "StatsDashboard component"
      },
      {
        "name": "Wallet Integration",
        "description": "Connect and interact with Ikarus wallet extension",
        "components": [
          "Header",
          "WalletContext"
        ]
      },
      {
        "name": "Pagination",
        "description": "Paginated lists for blocks, transactions, accounts, and contracts",
        "components": [
          "pagination",
          "BlockList",
          "TransactionList"
        ]
      },
      {
        "name": "Data Visualization",
        "description": "Charts and graphs for blockchain statistics and trends",
        "components": [
          "BlockBarChart",
          "TrabsactionBarChart",
          "ActiveUserChar"
        ]
      },
      {
        "name": "Smart Contract Details",
        "description": "View smart contract code, events, and transaction history",
        "pages": [
          "/contracts/[id]"
        ],
        "components": [
          "ContractCode",
          "ReadCode",
          "WriteCode",
          "TransactionListContracts"
        ]
      }
    ],
    "api_endpoints": {
      "blocks": {
        "list": "/api/blocks",
        "detail": "/api/blocks/[id]",
        "by_timestamp": "/api/barchart/[timestamp]"
      },
      "transactions": {
        "list": "/api/transactions",
        "detail": "/api/transactions/[id]"
      },
      "accounts": {
        "list": "/api/accounts",
        "detail": "/api/accounts/[id]"
      },
      "contracts": {
        "list": "/api/contracts",
        "detail": "/api/contracts/[id]"
      },
      "stats": {
        "general": "/api/stats",
        "user_chart": "/api/userchart"
      }
    },
    "external_apis": {
      "blockchain_api": {
        "base_url": "https://masternode-test.ikarusway.com/data/",
        "description": "Savitri blockchain data API"
      }
    },
    "key_components": {
      "layout": {
        "Header": "Navigation bar with wallet connection",
        "Footer": "Site footer with links"
      },
      "dashboard": {
        "StatsDashboard": "Main statistics and search dashboard",
        "CardDashboard": "Statistics cards",
        "List": "Combined blocks and transactions list"
      },
      "charts": {
        "BlockBarChart": "Block statistics chart",
        "TrabsactionBarChart": "Transaction statistics chart",
        "ActiveUserChar": "Active users chart"
      },
      "lists": {
        "BlockList": "List of blocks with pagination",
        "TransactionList": "List of transactions with pagination",
        "TransactionListContracts": "Contract transactions list"
      },
      "contracts": {
        "ContractCode": "Smart contract code display",
        "ReadCode": "Read contract operations",
        "WriteCode": "Write contract operations"
      },
      "common": {
        "LoadingSkeleton": "Loading state component",
        "pagination": "Pagination component"
      }
    },
    "state_management": {
      "wallet_context": {
        "file": "context/wallet.tsx",
        "purpose": "Manage wallet connection state and communication with Ikarus wallet extension",
        "features": [
          "Wallet installation detection",
          "Public key management",
          "PostMessage communication",
          "Error handling"
        ]
      }
    },
    "utilities": {
      "functions": "Utility functions for time formatting, data type detection, transaction type mapping",
      "types": "TypeScript type definitions and transaction type mappings",
      "validation": "Input validation for API routes",
      "logger": "Structured logging functionality",
      "serverEnv": "Server-side environment variable management",
      "browserUrl": "Browser-side URL utilities"
    },
    "styling": {
      "approach": "SCSS Modules",
      "global_styles": "global.scss",
      "component_styles": "Component-specific SCSS modules"
    },
    "deployment": {
      "containerization": "Docker",
      "port": 3000,
      "ci_cd": "GitLab CI/CD"
    },
    "authentication": {
      "type": "Wallet-based (Ikarus extension)",
      "implementation": "PostMessage communication with browser extension"
    },
    "data_flow": {
      "client_to_server": "Next.js API Routes",
      "server_to_external": "Fetch requests to Savitri blockchain API",
      "client_state": "React Context and useState hooks"
    }
  }
}
